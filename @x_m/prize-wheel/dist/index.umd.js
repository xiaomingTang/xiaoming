(function(n,g){typeof exports=="object"&&typeof module!="undefined"?g(exports,require("@babel/runtime-corejs3/core-js-stable/reflect/construct"),require("core-js/modules/es.object.to-string.js"),require("@babel/runtime-corejs3/helpers/classCallCheck"),require("@babel/runtime-corejs3/helpers/createClass"),require("@babel/runtime-corejs3/helpers/assertThisInitialized"),require("@babel/runtime-corejs3/helpers/inherits"),require("@babel/runtime-corejs3/helpers/possibleConstructorReturn"),require("@babel/runtime-corejs3/helpers/getPrototypeOf"),require("@babel/runtime-corejs3/helpers/defineProperty"),require("@x_m/event-emitter"),require("@babel/runtime-corejs3/helpers/slicedToArray"),require("react"),require("lodash/clamp"),require("lodash/noop")):typeof define=="function"&&define.amd?define(["exports","@babel/runtime-corejs3/core-js-stable/reflect/construct","core-js/modules/es.object.to-string.js","@babel/runtime-corejs3/helpers/classCallCheck","@babel/runtime-corejs3/helpers/createClass","@babel/runtime-corejs3/helpers/assertThisInitialized","@babel/runtime-corejs3/helpers/inherits","@babel/runtime-corejs3/helpers/possibleConstructorReturn","@babel/runtime-corejs3/helpers/getPrototypeOf","@babel/runtime-corejs3/helpers/defineProperty","@x_m/event-emitter","@babel/runtime-corejs3/helpers/slicedToArray","react","lodash/clamp","lodash/noop"],g):(n=typeof globalThis!="undefined"?globalThis:n||self,g(n.PrizeWheel={},n._Reflect$construct,null,n._classCallCheck,n._createClass,n._assertThisInitialized,n._inherits,n._possibleConstructorReturn,n._getPrototypeOf,n._defineProperty,n.EventEmitter,n._slicedToArray,n.react,n.clamp,n.noop))})(this,function(n,g,F,y,R,A,T,C,P,q,k,z,m,L,V){"use strict";const a=r=>r&&typeof r=="object"&&"default"in r?r:{default:r},p=a(g),O=a(y),E=a(R),l=a(A),I=a(T),W=a(C),S=a(P),d=a(q),$=a(k),v=a(z),x=a(L),M=a(V);function _(r){var c=r.currentTime,o=r.targetTime,t=r.startValue,u=r.endValue,s=x.default(c/(o/2),0,2),i=u-t;return s<1?t+i/2*s*s:(s-=1,t-i/2*(s*(s-2)-1))}function B(r){var c=m.useState(-1),o=v.default(c,2),t=o[0],u=o[1],s=m.useState(!1),i=v.default(s,2),h=i[0],e=i[1];return m.useEffect(function(){if(!r)return M.default;var f=function(){e(!0)},D=function(){u(r.deg)},b=function(){e(!1)};return r.addListener("start",f),r.addListener("running",D),r.addListener("end",b),function(){r.removeListener("start",f),r.removeListener("running",D),r.removeListener("end",b)}},[r]),{deg:t,running:h}}function N(r){var c=Q();return function(){var t=S.default(r),u;if(c){var s=S.default(this).constructor;u=p.default(t,arguments,s)}else u=t.apply(this,arguments);return W.default(this,u)}}function Q(){if(typeof Reflect=="undefined"||!p.default||p.default.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(p.default(Boolean,[],function(){})),!0}catch(r){return!1}}var w=function(r){I.default(o,r);var c=N(o);function o(t){var u,s,i,h,e;return O.default(this,o),e=c.call(this),d.default(l.default(e),"rawDeg",-1),d.default(l.default(e),"speedRatio",5),d.default(l.default(e),"minRunningDeg",3600),d.default(l.default(e),"easeStartDeg",540),d.default(l.default(e),"easeStopDeg",540),d.default(l.default(e),"rawRunning",!1),d.default(l.default(e),"shouldStopAtDeg",-1),d.default(l.default(e),"animate",function(){if(!!e.running){var f;e.shouldStopAtDeg>=0&&e.deg-(e.shouldStopAtDeg-e.easeStopDeg)>=0?f=_({currentTime:e.deg-(e.shouldStopAtDeg-e.easeStopDeg),targetTime:e.easeStopDeg,startValue:1,endValue:.1}):f=_({currentTime:e.deg,targetTime:e.easeStartDeg,startValue:.1,endValue:1}),e.deg+=f*e.speedRatio,e.shouldStopAtDeg>=0&&(e.deg=Math.min(e.shouldStopAtDeg,e.deg)),e.shouldStopAtDeg<0||e.deg<e.shouldStopAtDeg?window.requestAnimationFrame(e.animate):e.end()}}),e.easeStartDeg=(u=t==null?void 0:t.easeStartDeg)!==null&&u!==void 0?u:e.easeStartDeg,e.easeStopDeg=(s=t==null?void 0:t.easeStopDeg)!==null&&s!==void 0?s:e.easeStopDeg,e.minRunningDeg=(i=t==null?void 0:t.minRunningDeg)!==null&&i!==void 0?i:e.minRunningDeg,e.speedRatio=(h=t==null?void 0:t.speedRatio)!==null&&h!==void 0?h:e.speedRatio,e}return E.default(o,[{key:"deg",get:function(){return this.rawDeg},set:function(u){this.rawDeg=u,this.emit("running")}},{key:"running",get:function(){return this.rawRunning},set:function(u){u!==this.rawRunning&&this.emit(u?"start":"end"),this.rawRunning=u}},{key:"run",value:function(){this.shouldStopAtDeg=-1,this.running||(this.running=!0,this.deg=-1,this.animate())}},{key:"reset",value:function(){this.shouldStopAtDeg=-1,this.deg=-1,this.running=!1}},{key:"end",value:function(){this.running=!1}},{key:"shouldStopAt",value:function(u){var s=(u%360+360)%360;this.shouldStopAtDeg=Math.max(this.deg+this.easeStopDeg,this.minRunningDeg);var i=s-this.shouldStopAtDeg%360;this.shouldStopAtDeg+=i>=0?i:i+360}}]),o}($.default);n.PrizeWheelLogic=w,n.easeInOutQuad=_,n.usePrizeWheelState=B,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=index.umd.js.map
