(function(t,l){typeof exports=="object"&&typeof module!="undefined"?module.exports=l(require("@babel/runtime-corejs3/helpers/classCallCheck"),require("@babel/runtime-corejs3/helpers/createClass"),require("@babel/runtime-corejs3/helpers/defineProperty"),require("@babel/runtime-corejs3/core-js-stable/instance/find-index"),require("@babel/runtime-corejs3/core-js-stable/instance/filter")):typeof define=="function"&&define.amd?define(["@babel/runtime-corejs3/helpers/classCallCheck","@babel/runtime-corejs3/helpers/createClass","@babel/runtime-corejs3/helpers/defineProperty","@babel/runtime-corejs3/core-js-stable/instance/find-index","@babel/runtime-corejs3/core-js-stable/instance/filter"],l):(t=typeof globalThis!="undefined"?globalThis:t||self,t.XM_EventEmitter=l(t._classCallCheck,t._createClass,t._defineProperty,t._findIndexInstanceProperty,t._filterInstanceProperty))})(this,function(t,l,p,h,b){"use strict";const c=i=>i&&typeof i=="object"&&"default"in i?i:{default:i},v=c(t),m=c(l),j=c(p),_=c(h),f=c(b);var y=function(){function i(){v.default(this,i),j.default(this,"eventsMap",{})}return m.default(i,[{key:"addListener",value:function(e,n,a){var s;this.eventsMap[e]||(this.eventsMap[e]=[]);var u=(s=a==null?void 0:a.times)!==null&&s!==void 0?s:1/0,r=this.eventsMap[e],d=_.default(r).call(r,function(C){return C.callback===n});return d>=0?r[d].times=u:r.push({callback:n,times:u}),this}},{key:"removeListener",value:function(e,n){if(this.eventsMap[e])if(n){var a;this.eventsMap[e]=f.default(a=this.eventsMap[e]).call(a,function(s){return s.callback!==n})}else this.eventsMap[e]=[];return this}},{key:"emit",value:function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];if(this.eventsMap[e]){var u;this.eventsMap[e]=f.default(u=this.eventsMap[e]).call(u,function(r){return r.times>0&&(r.callback.apply(r,a),r.times-=1),r.times>0})}return this}}]),i}();return y});
